<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<title>Angular scroll events examples</title>
	<link rel="stylesheet" 
		href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
	<style>
		body { padding-top: 50px; }
		.starter-template { padding: 40px 15px; text-align: center; }
		.jazz li { margin-bottom: 50px; }
	</style>
</head>
<body>
	<div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
		<div class="container">
			<div class="collapse navbar-collapse">
				<ul class="nav navbar-nav">
					<li class="active"><a href="keep-scroll.html">Keep Scroll</a></li>
					<li><a href="infinite-scroll.html">Infinite Scroll</a></li>
					<li><a href="https://github.com/Grrr-Amsterdam/angular-scroll-events">
						View on Github</a></li>
				</ul>
			</div><!--/.nav-collapse -->
		</div>
	</div>

	<div class="container">

		<div ng-app="testKeepScroll">
			<div ng-view></div>

			<script type="text/ng-template" id="listTemplate">
				<h2>Great jazz records</h2>
				<p>For illustrational purposes, this list contains absurd spacing.</p>
				<p ng-show="loading"><i>loading...</i></p>
				<ul class="jazz" keep-scroll="jazzList" wait-for-event="listLoaded">
					<li ng-repeat="record in records"><a ng-href="#!single">{{ record.artist }} - {{ record.name }}</a></li>
				</ul>
			</script>
			<script type="text/ng-template" id="singleTemplate">
				<h1>Viewing single item</h1>
				<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
				<a ng-href="#!list">Back to list</a>
			</script>
		</div>

	</div><!-- /.container -->

	<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.2.25/angular.min.js"></script>
	<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.2.25/angular-route.js"></script>
	<script src="../dist/grrr-scroll.min.js"></script>
	<script>
		angular.module('testKeepScroll', ['ngRoute', 'grrrScroll'])
		.config(function($locationProvider) {
			$locationProvider.html5Mode(false);
			$locationProvider.hashPrefix('!');
		})
		.config(function($routeProvider) {
			$routeProvider
			.when('/single', {
				controller: 'SingleCtrl',
				template: function() {
					return document.getElementById('singleTemplate').innerHTML;
				}
			})
			.otherwise({
				controller: 'IndexCtrl',
				template: function() {
					return document.getElementById('listTemplate').innerHTML;
				}
			})
		})
		.controller('IndexCtrl', function($scope, $timeout) {
			// Use $timeout to fake HTTP request
			$scope.loading = true;
			$timeout(function() {
				$scope.records = [
					{ artist: "Charles Mingus", name: "The Black Saint And The Sinner Lady" },
					{ artist: "Miles Davis", name: "Bitches Brew" },
					{ artist: "Herbie Hancock", name: "Head Hunters" },
					{ artist: "Art Blakey And The Jazz Messengers", name: "The Big Beat" },
					{ artist: "John Coltrane", name: "A Love Supreme" },
					{ artist: "Sun Ra", name: "Atlantis" },
					{ artist: "Weather Report", name: "I Sing The Body Electric" },
					{ artist: "Eric Dolphy", name: "Out To Lunch!" },
					{ artist: "John Coltrane", name: "Giant Steps" },
					{ artist: "Thelonious Monk", name: "Brilliant Corners" },
					{ artist: "Ornette Coleman", name: "The Shape Of Jazz To Come" },
					{ artist: "Miles Davis", name: "Kind Of Blue" },
					{ artist: "Pharoah Sanders", name: "Karma" },
					{ artist: "Wayne Shorter", name: "Speak No Evil" },
					{ artist: "Chick Corea", name: "Inner Space" }
				];
				$scope.loading = false;
				$scope.$emit('listLoaded');
			}, 1000);
		})
		.controller('SingleCtrl', function($scope) {
		});
	</script>
</body>
</html>
