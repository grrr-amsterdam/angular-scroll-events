!function(){"use strict";angular.module("grrrScroll",[])}(),angular.module("grrrScroll").directive("infiniteScroll",["$log","$window","$document","$timeout","$route","Scroll",function(n,t,o,r,e,l){"use strict";return{restrict:"A",link:function(c,i,u){t=angular.element(t);var a,f,s=c.$eval(u.infiniteScroll),d=parseInt(u.scrollThreshold,10)||200,g=null,h=o.documentElement,v=0,m="infinite-scroll-"+i[0].className+i.attr("id");if(isNaN(d))return void n.warn("Invalid threshold given");s||(s=function(){n.log("Threshold reached")});var $=function(){g&&r.cancel(g),g=r(function(){var n=f+a,o=(t.pageYOffset||h.scrollTop)-(h.clientTop||0),e=0>v-o;e&&o>=n-d&&(s(),r(function(){a=i[0].offsetHeight})),v=o},50)},p=function(){f=i.offset().top,a=i[0].offsetHeight,l.attach(m,$)},S=e.current.controller;c.$on("$routeChangeStart",function(n,t){t.controller!==S?l.detach(m,$):p()}),u.waitForEvent?c.$on(u.waitForEvent,function(){r(function(){p()})}):p()}}}]),angular.module("grrrScroll").directive("keepScroll",["$timeout","$window","$document",function(n,t,o){"use strict";function r(o){n(function(){var r=t[o]?t[o]:0;r&&n(function(){t.scrollTo(0,r)})})}function e(n){t[n]=(t.pageYOffset||o.documentElement.scrollTop)-(document.documentElement.clientTop||0)}return function(n,t,o){o.waitForEvent?n.$on(o.waitForEvent,function(){r(o.keepScroll)}):r(o.keepScroll),n.$on("$routeChangeStart",function(){e(o.keepScroll)})}}]),angular.module("grrrScroll").factory("Scroll",["$window",function(n){"use strict";n=angular.element(n);var t=[],o=!1,r=function(){for(var n=0,o=t.length;o>n;++n)t[n].callback()},e=function(){return t.length?(n.on("scroll",r),void(o=!0)):void(o&&(n.off("scroll",r),o=!1))},l=function(n){for(var o=0,r=t.length;r>o;++o)if(t[o].id===n)return!0;return!1};return{attach:function(n,o){l(n)||(t.push({id:n,callback:o}),e())},detach:function(n){for(var o=[],r=0,l=t.length;l>r;++r)t[r].id!==n&&o.push(t[r]);t=o,e()}}}]);